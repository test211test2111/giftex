<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —à—Ä–∏—Ñ—Ç—ã -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Telegram Widget API -->
  <script async src="https://telegram.org/js/telegram-widget.js"></script>
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Tailwind CSS -->
  <link rel="stylesheet" href="/css/style.css">
  
  <!-- –§–∞–≤–∏–∫–æ–Ω–∫–∞ -->
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
</head>
<body class="bg-telegram-white min-h-screen flex flex-col">
  <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
  <header class="bg-telegram-blue text-white p-4 shadow-md">
    <div class="container mx-auto flex justify-between items-center">
      <a href="/" class="text-2xl font-bold flex items-center">
        <span class="mr-2">üéÅ</span> GIFTEX
      </a>
      
      <nav class="flex items-center space-x-4">
        <% if (locals.user) { %>
          <a href="/profile" class="hover:underline flex items-center">
            <% if (user.photoUrl) { %>
              <img src="<%= user.photoUrl %>" alt="<%= user.firstName %>" class="w-8 h-8 rounded-full mr-2">
            <% } %>
            <%= user.firstName %>
          </a>
          <a href="/balance" class="hover:underline">–ë–∞–ª–∞–Ω—Å</a>
          <a href="/auth/logout" class="bg-white text-telegram-blue px-4 py-2 rounded-md hover:bg-gray-100 transition">–í—ã–π—Ç–∏</a>
        <% } else { %>
          <a href="/auth/telegram" class="bg-white text-telegram-blue px-4 py-2 rounded-md hover:bg-gray-100 transition">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram</a>
        <% } %>
      </nav>
    </div>
  </header>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
  <main class="flex-grow">
    <div class="min-h-screen py-10 px-4">
      <div class="container mx-auto max-w-4xl">
        <div class="bg-white shadow-xl rounded-lg overflow-hidden">
          <!-- –®–∞–ø–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
          <div class="bg-telegram-blue text-white p-6">
            <h1 class="text-2xl font-bold text-center">–ë–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞</h1>
          </div>
          
          <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–ª–∞–Ω—Å–µ -->
          <div class="p-6">
            <div class="mb-8 text-center">
              <p class="text-gray-600 mb-2">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</p>
              <div class="text-5xl font-bold text-telegram-blue"><%= balance %> ‚ÇΩ</div>
            </div>
            
            <!-- –ú–µ—Ç–æ–¥—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è -->
            <div class="mb-8">
              <h2 class="text-xl font-bold mb-4 text-telegram-blue text-center">–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</h2>
              
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <button class="p-4 border border-gray-300 rounded-lg hover:border-telegram-blue hover:bg-gray-50 transition flex flex-col items-center">
                  <span class="text-2xl mb-2">üí≥</span>
                  <span class="font-medium">–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</span>
                </button>
                <button class="p-4 border border-gray-300 rounded-lg hover:border-telegram-blue hover:bg-gray-50 transition flex flex-col items-center">
                  <span class="text-2xl mb-2">üì±</span>
                  <span class="font-medium">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∫–æ—à–µ–ª–µ–∫</span>
                </button>
                <button class="p-4 border border-gray-300 rounded-lg hover:border-telegram-blue hover:bg-gray-50 transition flex flex-col items-center">
                  <span class="text-2xl mb-2">üí∞</span>
                  <span class="font-medium">–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞</span>
                </button>
              </div>
              
              <!-- –í—ã–±–æ—Ä —Å—É–º–º—ã -->
              <div class="mb-6">
                <label class="block text-gray-700 mb-2 font-medium">–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è</label>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                  <button class="py-2 px-4 border border-gray-300 rounded-md hover:border-telegram-blue hover:bg-gray-50 transition">100 ‚ÇΩ</button>
                  <button class="py-2 px-4 border border-gray-300 rounded-md hover:border-telegram-blue hover:bg-gray-50 transition">200 ‚ÇΩ</button>
                  <button class="py-2 px-4 border border-gray-300 rounded-md hover:border-telegram-blue hover:bg-gray-50 transition">500 ‚ÇΩ</button>
                  <button class="py-2 px-4 border border-gray-300 rounded-md hover:border-telegram-blue hover:bg-gray-50 transition">1000 ‚ÇΩ</button>
                </div>
              </div>
              
              <!-- –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ -->
              <div class="mb-6">
                <label for="custom-amount" class="block text-gray-700 mb-2 font-medium">–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Å—É–º–º—É</label>
                <div class="flex">
                  <input type="number" id="custom-amount" min="10" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" class="flex-grow border border-gray-300 rounded-l-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-telegram-blue focus:border-transparent">
                  <button class="bg-telegram-blue hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-r-md transition">
                    –ü–æ–ø–æ–ª–Ω–∏—Ç—å
                  </button>
                </div>
              </div>
            </div>
            
            <!-- –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π -->
            <div class="mb-8">
              <h2 class="text-xl font-bold mb-4 text-telegram-blue">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
              
              <div class="border rounded-lg overflow-hidden">
                <div class="bg-gray-50 p-4 border-b text-sm font-medium grid grid-cols-3">
                  <div>–î–∞—Ç–∞</div>
                  <div>–û–ø–µ—Ä–∞—Ü–∏—è</div>
                  <div class="text-right">–°—É–º–º–∞</div>
                </div>
                
                <div class="p-4 border-b text-sm grid grid-cols-3">
                  <div class="text-gray-600"><%= new Date().toLocaleDateString() %></div>
                  <div>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
                  <div class="text-right font-medium">+0 ‚ÇΩ</div>
                </div>
                
                <div class="p-4 text-center text-gray-500 text-sm">
                  –î—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∫–∞ –Ω–µ—Ç
                </div>
              </div>
            </div>
            
            <!-- –î–µ–π—Å—Ç–≤–∏—è -->
            <div class="flex justify-center">
              <a href="/profile" class="bg-telegram-blue hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition">
                –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª—å
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤—ã–±–æ—Ä–∞ —Å—É–º–º—ã
        const amountButtons = document.querySelectorAll('.grid-cols-4 button');
        const customAmountInput = document.getElementById('custom-amount');
        
        amountButtons.forEach(button => {
          button.addEventListener('click', function() {
            // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            amountButtons.forEach(btn => {
              btn.classList.remove('bg-telegram-blue', 'text-white');
              btn.classList.add('hover:bg-gray-50');
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –Ω–∞–∂–∞—Ç—É—é –∫–Ω–æ–ø–∫—É
            this.classList.add('bg-telegram-blue', 'text-white');
            this.classList.remove('hover:bg-gray-50');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
            customAmountInput.value = this.innerText.replace(' ‚ÇΩ', '');
          });
        });
      });
    </script>
  </main>

  <!-- –ü–æ–¥–≤–∞–ª —Å–∞–π—Ç–∞ -->
  <footer class="bg-telegram-gray py-4 mt-8">
    <div class="container mx-auto text-center text-gray-700">
      <p>&copy; <%= new Date().getFullYear() %> GIFTEX. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
      <p class="mt-2 text-sm">–≠—Ç–æ—Ç —Å–∞–π—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º Telegram.</p>
    </div>
  </footer>

  <!-- –û–±—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã -->
  <script src="/js/app.js"></script>
</body>
</html> 